<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>동백일보 - 한국의 대표 뉴스</title>
  <link rel="icon" href="/images/icon.jpg" type="image/jpeg">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
  <link rel="stylesheet" href="/css/common-styles.css">
  <link href="https://fonts.googleapis.com/css2?family=Ma+Shan+Zheng&family=ZCOOL+XiaoWei&family=Noto+Serif+SC&display=swap" rel="stylesheet">
  <style>
    /* 메인 콘텐츠 영역 */
    main {
      display: grid;
      grid-template-columns: 830px 350px;
      grid-gap: 20px;
      padding: 20px;
    }

    /* 주요 뉴스 */
    .main-news {
      border: 1px solid #f0f0f0;
      padding: 20px;
      margin-bottom: 25px;
      box-shadow: 0 1px 3px rgba(0,0,0,0.05);
    }

    .headline {
      margin-bottom: 20px;
    }

    .headline-title {
      font-size: 28px;
      font-weight: bold;
      margin-bottom: 15px;
      line-height: 1.3;
      letter-spacing: -0.5px;
      color: #222;
    }

    .headline-image {
      width: 100%;
      height: 400px;
      margin-bottom: 10px;
      object-fit: cover;
      background-color: var(--light-gray);
    }

    .headline-summary {
      font-size: 16px;
      line-height: 1.5;
      color: #444;
    }

    /* 뉴스 그리드 */
    .news-grid {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 20px;
    }

    .news-item {
      border-bottom: 1px solid var(--medium-gray);
      padding-bottom: 15px;
      margin-bottom: 15px;
      cursor: pointer;
    }

    .news-item h3 {
      font-size: 18px;
      margin-bottom: 8px;
      line-height: 1.3;
    }

    .news-item p {
      font-size: 14px;
      color: #666;
      line-height: 1.4;
    }

    .news-item-image {
      width: 100%;
      height: 180px;
      background-color: var(--light-gray);
      margin-bottom: 10px;
      object-fit: cover;
    }

    /* 제목만 나오는 뉴스 섹션 */
    .headlines-only-section {
      margin-top: 30px;
      border-top: 1px solid #eaeaea;
      padding-top: 20px;
    }

    .headlines-only-grid {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 15px;
    }

    .headline-only-item {
      padding: 10px 0;
      border-bottom: 1px solid #f0f0f0;
      cursor: pointer;
    }

    .headline-category {
      display: inline-block;
      margin-right: 8px;
      color: var(--primary-dark);
      font-weight: bold;
      font-size: 13px;
    }

    .headline-only-title {
      color: #222;
      text-decoration: none;
      font-size: 15px;
      font-weight: 500;
      line-height: 1.4;
    }

    .headline-only-item:hover .headline-only-title {
      color: var(--primary-color);
    }

    /* 사이드바 영역 */
    .sidebar {
      margin-bottom: 20px;
    }

    .sidebar-section {
      margin-bottom: 25px;
      border: 1px solid #f0f0f0;
      box-shadow: 0 1px 3px rgba(0,0,0,0.05);
    }

    .sidebar-header {
      border-bottom: 1px solid #eaeaea;
      color: var(--accent-color);
      padding: 12px 15px;
      font-size: 16px;
      font-weight: bold;
      letter-spacing: 0.5px;
    }

    .sidebar-content {
      padding: 15px;
    }

    .sidebar-news-list {
      list-style: none;
    }

    .sidebar-news-item {
      padding: 8px 0;
      border-bottom: 1px solid var(--medium-gray);
      cursor: pointer;
    }

    .sidebar-news-item:last-child {
      border-bottom: none;
    }

    .sidebar-news-item a {
      color: #333;
      text-decoration: none;
      font-size: 14px;
      line-height: 1.4;
    }

    .sidebar-news-item:hover a {
      color: var(--primary-color);
    }

    /* 랭킹 뉴스 */
    .ranking-list {
      list-style: none;
    }

    .ranking-item {
      display: flex;
      padding: 8px 0;
      border-bottom: 1px solid var(--medium-gray);
      cursor: pointer;
    }

    .ranking-item:last-child {
      border-bottom: none;
    }

    .ranking-number {
      flex: 0 0 22px;
      border: 1px solid #eaeaea;
      color: var(--dark-gray);
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: bold;
      margin-right: 10px;
      font-size: 12px;
    }

    .ranking-title {
      flex: 1;
      font-size: 14px;
    }

    .ranking-title a {
      color: #333;
      text-decoration: none;
    }

    .ranking-item:hover .ranking-title a {
      color: var(--primary-color);
    }

    /* 반응형 디자인 */
    @media (max-width: 1200px) {
      .container {
        width: 100%;
      }

      main {
        grid-template-columns: 1fr;
      }

      .sidebar {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
        gap: 20px;
      }
    }

    @media (max-width: 768px) {

      .headlines-only-grid {
        grid-template-columns: 1fr;
      }

      .news-grid {
        grid-template-columns: 1fr;
      }
    }
  </style>
</head>

<body>
<div class="container">
  <!-- 헤더 영역 -->
  <div th:replace="fragment/common-header.html :: header"></div>
  <!-- 메인 콘텐츠 영역 -->
  <main>
    <div class="content">
      <section class="main-news">
        <!-- 메인 헤드라인 -->
        <article class="headline" th:if="${headline != null}"
                 th:onclick="'window.location.href = \'' + @{/articles/{id}(id=${headline.id})} + '\''">
          <h2 class="headline-title" th:text="${headline.title}">헤드라인 제목</h2>
          <div class="headline-image-container">
            <img th:src="${headline.imageUrl != null ? headline.imageUrl : '/images/placeholder/default.svg'}"
                 th:alt="${headline.title}" class="headline-image" loading="lazy">
          </div>
          <p class="headline-summary" th:text="${#strings.abbreviate(headline.summary, 300)}">
            헤드라인 내용 요약
          </p>
        </article>

        <!-- 뉴스 그리드 -->
        <div class="news-grid">
          <!-- 정치 카테고리 기사 -->
          <article class="news-item"
                   th:if="${not #lists.isEmpty(@articleService.findLatestArticlesByCategory('politic'))}"
                   th:with="article=${@articleService.findLatestArticlesByCategory('politic')[0]}"
                   th:onclick="'window.location.href = \'' + @{/articles/{id}(id=${article.id})} + '\''">
            <div class="news-item-image-container">
              <img th:src="${article.imageUrl != null ? article.imageUrl : '/images/placeholder/default.svg'}"
                   th:alt="${article.title}" class="news-item-image" loading="lazy">
            </div>
            <h3 th:text="${article.title}">기사 제목</h3>
            <p th:text="${#strings.abbreviate(article.summary, 150)}">
              기사 내용 요약
            </p>
          </article>

          <!-- 경제 카테고리 기사 -->
          <article class="news-item"
                   th:if="${not #lists.isEmpty(@articleService.findLatestArticlesByCategory('economy'))}"
                   th:with="article=${@articleService.findLatestArticlesByCategory('economy')[0]}"
                   th:onclick="'window.location.href = \'' + @{/articles/{id}(id=${article.id})} + '\''">
            <div class="news-item-image-container">
              <img th:src="${article.imageUrl != null ? article.imageUrl : '/images/placeholder/default.svg'}"
                   th:alt="${article.title}" class="news-item-image" loading="lazy">
            </div>
            <h3 th:text="${article.title}">기사 제목</h3>
            <p th:text="${#strings.abbreviate(article.summary, 150)}">
              기사 내용 요약
            </p>
          </article>

          <!-- 산업 카테고리 기사 -->
          <article class="news-item"
                   th:if="${not #lists.isEmpty(@articleService.findLatestArticlesByCategory('industry'))}"
                   th:with="article=${@articleService.findLatestArticlesByCategory('industry')[0]}"
                   th:onclick="'window.location.href = \'' + @{/articles/{id}(id=${article.id})} + '\''">
            <div class="news-item-image-container">
              <img th:src="${article.imageUrl != null ? article.imageUrl : '/images/placeholder/default.svg'}"
                   th:alt="${article.title}" class="news-item-image" loading="lazy">
            </div>
            <h3 th:text="${article.title}">기사 제목</h3>
            <p th:text="${#strings.abbreviate(article.summary, 150)}">
              기사 내용 요약
            </p>
          </article>

          <!-- 국제 카테고리 기사 -->
          <article class="news-item"
                   th:if="${not #lists.isEmpty(@articleService.findLatestArticlesByCategory('world'))}"
                   th:with="article=${@articleService.findLatestArticlesByCategory('world')[0]}"
                   th:onclick="'window.location.href = \'' + @{/articles/{id}(id=${article.id})} + '\''">
            <div class="news-item-image-container">
              <img th:src="${article.imageUrl != null ? article.imageUrl : '/images/placeholder/default.svg'}"
                   th:alt="${article.title}" class="news-item-image" loading="lazy">
            </div>
            <h3 th:text="${article.title}">기사 제목</h3>
            <p th:text="${#strings.abbreviate(article.summary, 150)}">
              기사 내용 요약
            </p>
          </article>
        </div>

        <!-- 제목만 나오는 뉴스 섹션 -->
        <div class="headlines-only-section">
          <div class="headlines-only-grid">
            <!-- 정치 카테고리 기사 -->
            <div class="headline-only-item"
                 th:if="${not #lists.isEmpty(@articleService.findLatestArticlesByCategory('politic')) && @articleService.findLatestArticlesByCategory('politic').size() > 1}"
                 th:with="article=${@articleService.findLatestArticlesByCategory('politic')[1]}"
                 th:onclick="'window.location.href = \'' + @{/articles/{id}(id=${article.id})} + '\''">
              <span class="headline-category">정치</span>
              <a href="#" class="headline-only-title" th:text="${article.title}">기사 제목</a>
            </div>

            <!-- 경제 카테고리 기사 -->
            <div class="headline-only-item"
                 th:if="${not #lists.isEmpty(@articleService.findLatestArticlesByCategory('economy')) && @articleService.findLatestArticlesByCategory('economy').size() > 1}"
                 th:with="article=${@articleService.findLatestArticlesByCategory('economy')[1]}"
                 th:onclick="'window.location.href = \'' + @{/articles/{id}(id=${article.id})} + '\''">
              <span class="headline-category">경제</span>
              <a href="#" class="headline-only-title" th:text="${article.title}">기사 제목</a>
            </div>

            <!-- 산업 카테고리 기사 -->
            <div class="headline-only-item"
                 th:if="${not #lists.isEmpty(@articleService.findLatestArticlesByCategory('industry')) && @articleService.findLatestArticlesByCategory('industry').size() > 1}"
                 th:with="article=${@articleService.findLatestArticlesByCategory('industry')[1]}"
                 th:onclick="'window.location.href = \'' + @{/articles/{id}(id=${article.id})} + '\''">
              <span class="headline-category">산업</span>
              <a href="#" class="headline-only-title" th:text="${article.title}">기사 제목</a>
            </div>

            <!-- 국제 카테고리 기사 -->
            <div class="headline-only-item"
                 th:if="${not #lists.isEmpty(@articleService.findLatestArticlesByCategory('world')) && @articleService.findLatestArticlesByCategory('world').size() > 1}"
                 th:with="article=${@articleService.findLatestArticlesByCategory('world')[1]}"
                 th:onclick="'window.location.href = \'' + @{/articles/{id}(id=${article.id})} + '\''">
              <span class="headline-category">국제</span>
              <a href="#" class="headline-only-title" th:text="${article.title}">기사 제목</a>
            </div>

            <!-- 문화 카테고리 기사 -->
            <div class="headline-only-item"
                 th:if="${not #lists.isEmpty(@articleService.findLatestArticlesByCategory('culture')) && @articleService.findLatestArticlesByCategory('culture').size() > 1}"
                 th:with="article=${@articleService.findLatestArticlesByCategory('culture')[1]}"
                 th:onclick="'window.location.href = \'' + @{/articles/{id}(id=${article.id})} + '\''">
              <span class="headline-category">문화</span>
              <a href="#" class="headline-only-title" th:text="${article.title}">기사 제목</a>
            </div>

            <!-- 칼럼 카테고리 기사 -->
            <div class="headline-only-item"
                 th:if="${not #lists.isEmpty(@articleService.findLatestArticlesByCategory('column')) && @articleService.findLatestArticlesByCategory('column').size() > 1}"
                 th:with="article=${@articleService.findLatestArticlesByCategory('column')[1]}"
                 th:onclick="'window.location.href = \'' + @{/articles/{id}(id=${article.id})} + '\''">
              <span class="headline-category">칼럼</span>
              <a href="#" class="headline-only-title" th:text="${article.title}">기사 제목</a>
            </div>
          </div>
        </div>
      </section>
    </div>

    <aside class="sidebar">
      <!-- 속보 섹션 -->
      <section class="sidebar-section">
        <h3 class="sidebar-header">속보</h3>
        <div class="sidebar-content">
          <ul class="sidebar-news-list">
            <li th:each="breaking, stat : ${@articleService.findLatestArticles()}"
                th:if="${stat.index < 5}"
                class="sidebar-news-item"
                th:onclick="'window.location.href = \'' + @{/articles/{id}(id=${breaking.id})} + '\''">
              <a href="#" th:text="${breaking.title}">속보 제목</a>
            </li>
            <li th:if="${#lists.isEmpty(@articleService.findLatestArticles())}" class="sidebar-news-item">
              <a href="#">현재 등록된 속보가 없습니다.</a>
            </li>
          </ul>
        </div>
      </section>

      <!-- 인기 뉴스 섹션 -->
      <section class="sidebar-section">
        <h3 class="sidebar-header">인기 뉴스</h3>
        <div class="sidebar-content">
          <div class="ranking-list">
            <div th:each="article, stat : ${trendingArticles}"
                 th:if="${stat.index < 5}"
                 class="ranking-item"
                 th:onclick="'window.location.href = \'' + @{/articles/{id}(id=${article.id})} + '\''">
              <div class="ranking-number" th:text="${stat.count}">1</div>
              <div class="ranking-title">
                <a href="#" th:text="${article.title}">인기 뉴스 제목</a>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- 오피니언 섹션 -->
      <section class="sidebar-section">
        <h3 class="sidebar-header">오피니언</h3>
        <div class="sidebar-content">
          <ul class="sidebar-news-list">
            <li th:each="column, stat : ${@articleService.findLatestArticlesByCategory('column')}"
                th:if="${stat.index < 4}"
                class="sidebar-news-item"
                th:onclick="'window.location.href = \'' + @{/articles/{id}(id=${column.id})} + '\''">
              <a href="#" th:text="${column.title}">칼럼 제목</a>
            </li>
            <li th:if="${#lists.isEmpty(@articleService.findLatestArticlesByCategory('column'))}" class="sidebar-news-item">
              <a href="#">현재 등록된 칼럼이 없습니다.</a>
            </li>
          </ul>
        </div>
      </section>
    </aside>
  </main>

  <!-- 푸터 영역 -->
  <div th:replace="fragment/common-footer :: footer"></div>
</div>

<!-- 검색 오버레이 -->
<div id="searchOverlay" class="search-overlay"></div>

<!-- 자바스크립트 -->
<script src="/js/common-script.js"></script>
</body>
</html>